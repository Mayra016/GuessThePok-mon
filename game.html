<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/index.css">
    <link rel="stylesheet" href="/styles/game.css">
    <title>Who's that Pokémon?</title>
</head>
<body>
    <div class="page-content">
        <div class="menu">
            <button class="play" onclick="menu()">Menu</button>
        </div>
        <div class="game">
            <h1 class="title">Who's that pokémon?</h1>
            <div class="div-image">
                <img class="pokémon-tcg-card blured" src="" alt="card image">
            </div>
            <input type="text" class="search-bar" placeholder="Enter the Pokémon's name">
            <button class="play send">Send</button>
        </div>
    </div>
</body>

<script type="module">
    import config from '../config/config.js';
    import getImage from '../service/APIAuth.js'; 

    console.log("API URL:", config.API_URL);  

    function menu() {
        window.location.href='index.html';
    }

    async function loadImage() {
        const imageUrl = await getImage(); 
        console.log("Image URL:", imageUrl);

        if (imageUrl) {
            const cardImg = document.querySelector(".pokémon-tcg-card");
            cardImg.src = imageUrl;
        } else {
            console.error("No image URL received.");
        }
    }

    loadImage();
</script>
</html>
